{"version":3,"sources":["/Users/williankrause/des/diceroller/components/Button.js","/Users/williankrause/des/diceroller/components/ContainedButton.js","/Users/williankrause/des/diceroller/components/Die.js","/Users/williankrause/des/diceroller/constants/Button.js","/Users/williankrause/des/diceroller/components/DieButton.js","/Users/williankrause/des/diceroller/components/OutlinedButton.js","/Users/williankrause/des/diceroller/components/ScreenContainer.js","/Users/williankrause/des/diceroller/components/Spacer.js","/Users/williankrause/des/diceroller/constants/Colors.js","/Users/williankrause/des/diceroller/components/TabBarIcon.js","/Users/williankrause/des/diceroller/config/index.js","/Users/williankrause/des/diceroller/services/FirebaseService.js","/Users/williankrause/des/diceroller/services/AuthService.js","/Users/williankrause/des/diceroller/context/AuthContext.js","/Users/williankrause/des/diceroller/services/DataService.js","/Users/williankrause/des/diceroller/context/DataContext.js","/Users/williankrause/des/diceroller/context/AppContext.js","/Users/williankrause/des/diceroller/screens/BoardScreen.js","/Users/williankrause/des/diceroller/screens/DiceRollScreen.js","/Users/williankrause/des/diceroller/screens/Session/SessionsScreen.js","/Users/williankrause/des/diceroller/screens/SettingsScreen.js","/Users/williankrause/des/diceroller/screens/tabs.js","/Users/williankrause/des/diceroller/navigation/MainTabNavigator.js","/Users/williankrause/des/diceroller/screens/Session/JoinSessionScreen.js","/Users/williankrause/des/diceroller/screens/LoadingScreen.js","/Users/williankrause/des/diceroller/screens/Auth/AuthScreen.js","/Users/williankrause/des/diceroller/screens/Auth/RegisterScreen.js","/Users/williankrause/des/diceroller/navigation/MainNavigation.js","/Users/williankrause/des/diceroller/navigation/AppNavigator.web.js","/Users/williankrause/des/diceroller/App.js","/Users/williankrause/des/diceroller/assets/images/robot-dev.png","/Users/williankrause/des/diceroller/assets/images/robot-prod.png"],"names":["Button","props","ContainedButton","mode","animateToValue","animationValue","newValue","callback","LayoutAnimation","configureNext","create","Types","linear","Properties","scaleXY","Animated","timing","toValue","duration","useNativeDriver","start","styles","StyleSheet","container","display","alignItems","justifyContent","margin","borderColor","borderWidth","width","height","content","Die","type","value","onPress","useState","Value","scaleAnimation","useEffect","TouchableComponent","TouchableRipple","supported","TouchableOpacity","View","style","transform","scale","Headline","Text","buttonStyle","button","flex","marginHorizontal","DieButton","faces","dark","compact","max","Math","floor","random","uppercase","OutlinedButton","backgroundColor","centeredHorizontal","centeredVertical","ScreenContainer","children","centered","appliedStyles","push","spacer","Spacer","tintColor","tabIconDefault","tabIconSelected","tabBar","errorBackground","errorText","warningBackground","warningText","noticeBackground","noticeText","TabBarIcon","Ionicons","name","size","marginBottom","color","focused","Colors","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","configure","firebase","initializeApp","extractData","snapshot","data","key","id","sort","a","b","loadData","currentUser","currentSession","setDice","setSessions","setCurrentSession","setSessionOwner","setSessionDice","async","unsubscribes","currentSessionId","AsyncStorage","getItem","firestoreRef","firestore","currentUserId","uid","doc","onSnapshot","exists","userSessions","sessions","length","Promise","all","map","sessionId","get","set","filter","merge","session","removeItem","ref","collection","orderBy","diceSnapshot","dice","forEach","dieSnapshot","owner","usersDice","userSnapshot","userData","user","userDiceSnapshot","userDice","Object","values","addDie","add","timestamp","Date","removeDie","delete","clearDie","addSession","listenToLoginChanges","setCurrentUser","setAuthLoading","auth","onAuthStateChanged","FirebaseService","loginWithEmailAndPassword","email","password","signInWithEmailAndPassword","logOut","signOut","registerWithEmailAndPassword","createUserWithEmailAndPassword","updateProfile","displayName","AuthContext","createContext","useAuth","useContext","AuthContextProvider","isAuthLoading","Provider","ENTITIES","getData","entityName","entityId","FirebaseDataService","Error","joinSession","DataContext","actionBuilder","array","addData","removeData","clearData","chooseSession","setItem","getSession","_joinSession","useData","DataContextProvider","isSessionOwner","sessionDice","isDataLoading","setDataLoading","then","subscriptions","console","log","unsubscribe","AppContext","useApp","AppContextProvider","isAppLoading","setAppLoading","Row","row","Window","total","reduce","acc","window","userName","ScrollView","scrollContainer","contentContainerStyle","scrollViewContainer","BoardScreen","groups","item","index","group","navigationOptions","header","title","iconName","flexDirection","marginTop","flexWrap","paddingVertical","borderTopColor","borderTopWidth","position","top","left","DiceRollScreen","emptyMessage","die","rolledDice","shadow","Platform","select","ios","shadowColor","shadowOffset","shadowOpacity","shadowRadius","android","elevation","web","boxShadow","AddSessionDialog","isOpen","setOpen","setName","dismiss","dismissModal","Portal","Dialog","visible","onDismiss","Title","Content","TextInput","label","onChangeText","text","Actions","SessionMenu","removeSession","isVisible","setVisible","Menu","anchor","icon","Item","Clipboard","setString","setTimeout","SessionsScreen","navigation","isModalOpen","setModalOpen","FlatList","renderItem","listItem","navigate","selectSession","right","FAB","fab","bottom","borderBottomColor","borderBottomWidth","SettingsScreen","board","roll","settings","headerMode","default","routes","keys","screens","Component","reduceFn","screen","Comp","Screen","Appbar","Header","Stack","createStackNavigator","tabBarLabel","tabBarIcon","OS","path","TabNavigator","createMaterialBottomTabNavigator","initialRouteName","goToSessions","JoinSessionScreen","setSession","loadingSession","setLoadingSession","getParam","sessionData","loadSession","find","ActivityIndicator","join","loadResourcesAsync","Asset","loadAsync","require","Font","font","handleLoadingError","error","warn","LoadingScreen","AppLoading","startAsync","onError","onFinish","handleFinishLoading","AuthScreen","setEmail","setPassword","secureTextEntry","RegisterScreen","confirmPassword","setConfirmPassword","validatePassword","goBack","AppNavigator","createSwitchNavigator","Main","MainTabNavigator","Join","JoinScreen","AuthNavigator","Auth","Register","SwitchNavigator","App","TestNavigator","isLoading","router","MainNavigation","BrowserApp","createBrowserApp","history","useScreens","appPrefix","Linking","makeUrl","StatusBar","barStyle","uriPrefix","module","exports"],"mappings":"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","file":"static/js/app.469d8a0f.chunk.js","sourcesContent":["import React from 'react';\nimport { Button as PaperButton } from 'react-native-paper';\n\nconst Button = ({ ...props }) => <PaperButton {...props} />;\n\nexport default Button;\n","import React from 'react';\nimport Button from '../components/Button';\n\nconst ContainedButton = ({ ...props }) => <Button {...props} mode=\"contained\" />;\nexport default ContainedButton;\n","import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, TouchableOpacity, Animated, LayoutAnimation } from 'react-native';\nimport { Headline, TouchableRipple, Text } from 'react-native-paper';\n\nconst SIZE = 100;\nconst PRESS_TIMEOUT = 200;\n\nconst animateToValue = (animationValue, newValue, callback = () => {}) => {\n  LayoutAnimation.configureNext(\n    LayoutAnimation.create(\n      PRESS_TIMEOUT,\n      LayoutAnimation.Types.linear,\n      LayoutAnimation.Properties.scaleXY\n    )\n  );\n  Animated.timing(animationValue, {\n    toValue: newValue,\n    duration: PRESS_TIMEOUT,\n    useNativeDriver: true,\n  }).start(callback);\n};\n\nconst Die = ({ type, value, onPress }) => {\n  const [scaleAnimation] = useState(new Animated.Value(0));\n\n  useEffect(() => {\n    animateToValue(scaleAnimation, 1);\n    return () => {\n      animateToValue(scaleAnimation, 0);\n    };\n  }, []);\n\n  const TouchableComponent = TouchableRipple.supported ? TouchableRipple : TouchableOpacity;\n\n  const handleOnPress = () => {\n    animateToValue(scaleAnimation, 0, onPress);\n  };\n\n  return (\n    <Animated.View\n      style={[\n        {\n          transform: [\n            {\n              scale: scaleAnimation,\n            },\n          ],\n        },\n      ]}>\n      <TouchableComponent style={styles.container} onPress={handleOnPress}>\n        <View style={styles.content}>\n          <Headline>{value}</Headline>\n          <Text>{type}</Text>\n        </View>\n      </TouchableComponent>\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    margin: 10,\n    borderColor: '#ddd',\n    borderWidth: 1,\n    width: SIZE,\n    height: SIZE,\n  },\n  content: {\n    alignItems: 'center',\n  },\n});\n\nexport default Die;\n","import { StyleSheet } from 'react-native';\n\nexport const marginHorizontal = 5;\n\nexport const buttonStyle = StyleSheet.create({\n  button: {\n    flex: 1,\n    marginHorizontal,\n  },\n});\n","import React from 'react';\nimport { buttonStyle } from '../constants/Button';\nimport ContainedButton from './ContainedButton';\n\nconst rollRandomNumber = max => {\n  return Math.floor(Math.random() * max) + 1;\n};\n\nconst DieButton = ({ faces, onPress }) => {\n  const type = `d${faces}`;\n  return (\n    <ContainedButton\n      style={buttonStyle.button}\n      dark\n      compact\n      onPress={() => onPress({ type, value: rollRandomNumber(faces) })}\n      uppercase={false}>\n      {type}\n    </ContainedButton>\n  );\n};\n\nexport default DieButton;\n","import React from 'react';\nimport Button from '../components/Button';\n\nconst OutlinedButton = ({ ...props }) => <Button {...props} mode=\"outlined\" />;\n\nexport default OutlinedButton;\n","import React from 'react';\nimport { View, StyleSheet } from 'react-native';\n\nconst ScreenContainer = ({ children, centeredHorizontal, centeredVertical, centered }) => {\n  const appliedStyles = [styles.container];\n  if (centered) {\n    appliedStyles.push(styles.centeredHorizontal, styles.centeredVertical);\n  } else {\n    if (centeredHorizontal) {\n      appliedStyles.push(styles.centeredHorizontal);\n    }\n    if (centeredVertical) {\n      appliedStyles.push(styles.centeredVertical);\n    }\n  }\n\n  return <View style={appliedStyles}>{children}</View>;\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    width: '100%',\n  },\n  centeredHorizontal: {\n    alignItems: 'center',\n  },\n  centeredVertical: {\n    justifyContent: 'center',\n  },\n});\n\nexport default ScreenContainer;\n","import React from 'react';\nimport { View, StyleSheet } from 'react-native';\n\nconst Spacer = () => <View style={styles.spacer} />;\n\nconst styles = StyleSheet.create({\n  spacer: {\n    height: 30,\n  },\n});\n\nexport default Spacer;\n","const tintColor = '#2f95dc';\n\nexport default {\n  tintColor,\n  tabIconDefault: '#ccc',\n  tabIconSelected: tintColor,\n  tabBar: '#fefefe',\n  errorBackground: 'red',\n  errorText: '#fff',\n  warningBackground: '#EAEB5E',\n  warningText: '#666804',\n  noticeBackground: tintColor,\n  noticeText: '#fff',\n};\n","import React from 'react';\nimport { Ionicons } from '@expo/vector-icons';\n\nimport Colors from '../constants/Colors';\n\nexport default function TabBarIcon(props) {\n  return (\n    <Ionicons\n      name={props.name}\n      size={26}\n      style={{ marginBottom: -3 }}\n      color={props.focused ? Colors.tabIconSelected : Colors.tabIconDefault}\n    />\n  );\n}\n","import firebase from 'firebase';\n\nconst config = {\n  apiKey: 'AIzaSyBHCc4hJNPQUGBu3mup6WJCVCylUwmUyys',\n  authDomain: 'dice-roller-d68fa.firebaseapp.com',\n  databaseURL: 'https://dice-roller-d68fa.firebaseio.com',\n  projectId: 'dice-roller-d68fa',\n  storageBucket: '',\n  messagingSenderId: '277235469300',\n  appId: '1:277235469300:web:b3717529c807f6b9',\n};\n\nconst configure = () => {\n  firebase.initializeApp(config);\n};\n\nexport default configure;\n","import firebase from 'firebase';\nimport '@firebase/firestore';\nimport '@firebase/auth';\nimport { AsyncStorage } from 'react-native';\n\nconst extractData = snapshot => ({\n  ...snapshot.data(),\n  key: snapshot.id,\n});\n\nconst sort = (a, b) => {\n  if (a > b) {\n    return 1;\n  } else if (a < b) {\n    return -1;\n  }\n  return 0;\n};\n\nexport const listenToLoginChanges = (setCurrentUser, setAuthLoading) =>\n  firebase.auth().onAuthStateChanged(user => {\n    setCurrentUser(user);\n    setAuthLoading(false);\n  });\n\nexport const loginWithEmailAndPassword = (email, password) =>\n  firebase.auth().signInWithEmailAndPassword(email, password);\n\nexport const registerWithEmailAndPassword = async (name, email, password) => {\n  const { user } = await firebase.auth().createUserWithEmailAndPassword(email, password);\n  await user.updateProfile({ displayName: name });\n  await firebase\n    .firestore()\n    .doc(`users/${user.uid}`)\n    .set({\n      name,\n    });\n};\n\nexport const logOut = async () => {\n  await AsyncStorage.removeItem('currentSession');\n  return firebase.auth().signOut();\n};\n\nexport const loadData = async (\n  currentUser,\n  currentSession,\n  setDice,\n  setSessions,\n  setCurrentSession,\n  setSessionOwner,\n  setSessionDice\n) => {\n  const unsubscribes = [];\n\n  let currentSessionId = currentSession && currentSession.key;\n  if (!currentSessionId) {\n    currentSessionId = await AsyncStorage.getItem('currentSession');\n  }\n\n  const firestoreRef = firebase.firestore();\n\n  const currentUserId = currentUser && currentUser.uid;\n\n  if (currentUserId) {\n    unsubscribes.push(\n      firestoreRef.doc(`users/${currentUserId}`).onSnapshot(async snapshot => {\n        if (!snapshot.exists) {\n          return;\n        }\n        const currentUser = extractData(snapshot);\n        const userSessions = currentUser.sessions;\n        if (userSessions && userSessions.length > 0) {\n          let sessions = [];\n          sessions = await Promise.all(\n            userSessions.map(async sessionId => {\n              const snapshot = await firestoreRef.doc(`sessions/${sessionId}`).get();\n              if (snapshot.exists) {\n                return extractData(snapshot);\n              } else {\n                firestoreRef.doc(`users/${currentUserId}`).set(\n                  {\n                    sessions: userSessions.filter(id => id !== sessionId),\n                  },\n                  { merge: true }\n                );\n              }\n              return null;\n            })\n          );\n          setSessions(sessions.filter(session => session).sort((a, b) => sort(a.name, b.name)));\n        }\n      })\n    );\n  }\n\n  if (currentSessionId) {\n    unsubscribes.push(\n      firestoreRef.doc(`sessions/${currentSessionId}`).onSnapshot(async snapshot => {\n        if (!snapshot.exists) {\n          setCurrentSession(null);\n          setDice([]);\n          setSessionOwner(false);\n          setSessionDice([]);\n          return AsyncStorage.removeItem('currentSession');\n        }\n        let session = extractData(snapshot);\n\n        if (!currentSession) {\n          setCurrentSession(session);\n        }\n\n        unsubscribes.push(\n          snapshot.ref\n            .collection(`users/${currentUserId}/dice`)\n            .orderBy('timestamp', 'asc')\n            .onSnapshot(diceSnapshot => {\n              let dice = [];\n              diceSnapshot.forEach(dieSnapshot => {\n                dice = [...dice, extractData(dieSnapshot)];\n              });\n              setDice(dice);\n            })\n        );\n\n        if (session.owner === currentUserId) {\n          setSessionOwner(true);\n\n          let usersDice = {};\n          const usersSnapshot = await snapshot.ref.collection('users').get();\n          usersSnapshot.forEach(async userSnapshot => {\n            if (userSnapshot.id !== currentUserId) {\n              const userData = await firestoreRef.doc(`users/${userSnapshot.id}`).get();\n              const user = extractData(userData);\n              unsubscribes.push(\n                userSnapshot.ref.collection('dice').onSnapshot(userDiceSnapshot => {\n                  let userDice = [];\n                  userDiceSnapshot.forEach(dieSnapshot => {\n                    userDice = [...userDice, extractData(dieSnapshot)];\n                  });\n\n                  usersDice = {\n                    ...usersDice,\n                    [userSnapshot.id]: {\n                      user,\n                      dice: userDice,\n                    },\n                  };\n\n                  setSessionDice(\n                    Object.values(usersDice).sort((a, b) => sort(a.user.name, b.user.name))\n                  );\n                })\n              );\n            }\n          });\n        } else {\n          setSessionOwner(false);\n          setSessionDice([]);\n        }\n      })\n    );\n  }\n\n  return unsubscribes;\n};\n\nexport const addDie = async (value, currentUser) => {\n  const currentSessionId = await AsyncStorage.getItem('currentSession');\n  if (!currentUser || !currentSessionId) {\n    return;\n  }\n  const firestoreRef = firebase.firestore();\n  return firestoreRef.collection(`sessions/${currentSessionId}/users/${currentUser.uid}/dice`).add({\n    ...value,\n    timestamp: new Date(),\n  });\n};\n\nexport const removeDie = async ({ key }, currentUser) => {\n  const currentSessionId = await AsyncStorage.getItem('currentSession');\n  if (!currentUser || !currentSessionId) {\n    return;\n  }\n  const firestoreRef = firebase.firestore();\n  return firestoreRef\n    .doc(`sessions/${currentSessionId}/users/${currentUser.uid}/dice/${key}`)\n    .delete();\n};\n\nexport const clearDie = async currentUser => {\n  const currentSessionId = await AsyncStorage.getItem('currentSession');\n  if (!currentUser || !currentSessionId) {\n    return;\n  }\n  const firestoreRef = firebase.firestore();\n  const dice = await firestoreRef\n    .collection(`sessions/${currentSessionId}/users/${currentUser.uid}/dice`)\n    .get();\n  dice.forEach(async ({ id }) => {\n    await firestoreRef\n      .doc(`sessions/${currentSessionId}/users/${currentUser.uid}/dice/${id}`)\n      .delete();\n  });\n};\n\nexport const addSession = async (value, sessions, currentUser) => {\n  if (!currentUser) {\n    return;\n  }\n  const firestoreRef = firebase.firestore();\n  const session = await firestoreRef.collection(`sessions`).add({\n    ...value,\n    owner: currentUser.uid,\n  });\n\n  await firestoreRef.doc(`sessions/${session.id}/users/${currentUser.uid}`).set({\n    timestamp: new Date(),\n  });\n\n  return firestoreRef.doc(`users/${currentUser.uid}`).set(\n    {\n      sessions: [...sessions.map(({ key }) => key), session.id],\n    },\n    { merge: true }\n  );\n};\n\nexport const getSession = async sessionId => {\n  const snapshot = await firebase\n    .firestore()\n    .doc(`sessions/${sessionId}`)\n    .get();\n  if (snapshot.exists) {\n    return extractData(snapshot);\n  } else {\n    return null;\n  }\n};\n\nexport const joinSession = async (sessionId, sessions, currentUser) => {\n  if (!currentUser) {\n    return;\n  }\n\n  const firestoreRef = firebase.firestore();\n\n  await firestoreRef.doc(`sessions/${sessionId}/users/${currentUser.uid}`).set({\n    timestamp: new Date(),\n  });\n\n  return firestoreRef.doc(`users/${currentUser.uid}`).set(\n    {\n      sessions: [...sessions.map(({ key }) => key), sessionId],\n    },\n    { merge: true }\n  );\n};\n","import * as FirebaseService from './FirebaseService';\n\nexport const listenToLoginChanges = (setCurrentUser, setAuthLoading) =>\n  FirebaseService.listenToLoginChanges(setCurrentUser, setAuthLoading);\n\nexport const loginWithEmailAndPassword = (email, password) =>\n  FirebaseService.loginWithEmailAndPassword(email, password);\n\nexport const logOut = () => FirebaseService.logOut();\n\nexport const registerWithEmailAndPassword = (name, email, password) =>\n  FirebaseService.registerWithEmailAndPassword(name, email, password);\n","import React, { createContext, useState, useContext, useEffect } from 'react';\nimport {\n  listenToLoginChanges,\n  loginWithEmailAndPassword,\n  logOut,\n  registerWithEmailAndPassword,\n} from '../services/AuthService';\n\nexport const AuthContext = createContext({});\n\nconst AuthContextProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    listenToLoginChanges(setCurrentUser, setAuthLoading);\n  }, []);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isAuthLoading,\n        currentUser,\n        loginWithEmailAndPassword,\n        logOut,\n        registerWithEmailAndPassword,\n      }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\n\nexport default AuthContextProvider;\n","import * as FirebaseDataService from './FirebaseService';\n\nexport const ENTITIES = {\n  DIE: 'Die',\n  SESSION: 'Session',\n};\n\nexport const addData = async (entityName, value, array, currentUser) => {\n  switch (entityName) {\n    case ENTITIES.DIE:\n      return FirebaseDataService.addDie(value, currentUser);\n    case ENTITIES.SESSION:\n      return FirebaseDataService.addSession(value, array, currentUser);\n    default:\n      throw new Error('Unknown entity');\n  }\n};\n\nexport const removeData = async (entityName, value, array, currentUser) => {\n  switch (entityName) {\n    case ENTITIES.DIE:\n      return FirebaseDataService.removeDie(value, currentUser);\n    case ENTITIES.SESSION:\n      break;\n    default:\n      throw new Error('Unknown entity');\n  }\n};\n\nexport const clearData = async (entityName, currentUser) => {\n  switch (entityName) {\n    case ENTITIES.DIE:\n      return FirebaseDataService.clearDie(currentUser);\n    case ENTITIES.SESSION:\n      break;\n    default:\n      throw new Error('Unknown entity');\n  }\n};\n\nexport const loadData = async (\n  currentUser,\n  currentSession,\n  setDice,\n  setSessions,\n  setCurrentUser,\n  setCurrentSession,\n  setSessionOwner,\n  setSessionDice\n) => {\n  return FirebaseDataService.loadData(\n    currentUser,\n    currentSession,\n    setDice,\n    setSessions,\n    setCurrentUser,\n    setCurrentSession,\n    setSessionOwner,\n    setSessionDice\n  );\n};\n\nexport const getData = (entityName, entityId) => {\n  switch (entityName) {\n    case ENTITIES.SESSION:\n      return FirebaseDataService.getSession(entityId);\n    default:\n      throw new Error('Unknown entity');\n  }\n};\n\nexport const joinSession = (sessionId, sessions, currentUser) =>\n  FirebaseDataService.joinSession(sessionId, sessions, currentUser);\n","import React, { createContext, useState, useContext, useEffect } from 'react';\nimport { AsyncStorage } from 'react-native';\nimport {\n  ENTITIES,\n  loadData,\n  addData,\n  removeData,\n  clearData,\n  getData,\n  joinSession,\n} from '../services/DataService';\nimport { useAuth } from './AuthContext';\n\nexport const DataContext = createContext({});\n\nconst actionBuilder = (array, name, currentUser) => ({\n  [`add${name}`]: value => addData(name, value, array, currentUser),\n  [`remove${name}`]: value => removeData(name, value, array, currentUser),\n  [`clear${name}`]: () => clearData(name, currentUser),\n});\n\nconst chooseSession = setCurrentSession => session => {\n  setCurrentSession(session);\n  return AsyncStorage.setItem('currentSession', session.key);\n};\n\nconst getSession = sessionId => getData(ENTITIES.SESSION, sessionId);\n\nconst _joinSession = (currentUser, sessions) => sessionId =>\n  joinSession(sessionId, sessions, currentUser);\n\nconst DataContextProvider = ({ children }) => {\n  const { currentUser } = useAuth();\n  const [dice, setDice] = useState([]);\n  const [sessions, setSessions] = useState([]);\n  const [currentSession, setCurrentSession] = useState(null);\n  const [isSessionOwner, setSessionOwner] = useState(false);\n  const [sessionDice, setSessionDice] = useState([]);\n  const [isDataLoading, setDataLoading] = useState([]);\n\n  useEffect(() => {\n    let unsubscribes;\n    loadData(\n      currentUser,\n      currentSession,\n      setDice,\n      setSessions,\n      setCurrentSession,\n      setSessionOwner,\n      setSessionDice\n    ).then(subscriptions => {\n      setDataLoading(false);\n      unsubscribes = subscriptions;\n    });\n\n    return () => {\n      if (unsubscribes && unsubscribes.length) {\n        console.log(`unsubscribing from ${unsubscribes.length} subscriptions`);\n        unsubscribes.forEach(unsubscribe => unsubscribe());\n      }\n    };\n  }, [currentSession, currentUser]);\n\n  return (\n    <DataContext.Provider\n      value={{\n        isDataLoading,\n        dice,\n        ...actionBuilder(dice, ENTITIES.DIE, currentUser),\n        sessions,\n        ...actionBuilder(sessions, ENTITIES.SESSION, currentUser),\n        getSession,\n        currentSession,\n        setCurrentSession: chooseSession(setCurrentSession),\n        isSessionOwner,\n        sessionDice,\n        joinSession: _joinSession(currentUser, sessions),\n      }}>\n      {children}\n    </DataContext.Provider>\n  );\n};\n\nexport const useData = () => {\n  return useContext(DataContext);\n};\n\nexport default DataContextProvider;\n","import React, { createContext, useState, useContext } from 'react';\n\nexport const AppContext = createContext({});\n\nconst AppContextProvider = ({ children }) => {\n  const [isAppLoading, setAppLoading] = useState(true);\n\n  return (\n    <AppContext.Provider\n      value={{\n        isAppLoading,\n        setAppLoading,\n      }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport const useApp = () => {\n  return useContext(AppContext);\n};\n\nexport default AppContextProvider;\n","import React from 'react';\nimport { View, StyleSheet, ScrollView } from 'react-native';\nimport { Text, Headline } from 'react-native-paper';\nimport { useData } from '../context/DataContext';\nimport { Die, ScreenContainer } from '../components';\n\nconst Row = ({ children }) => <View style={styles.row}>{children}</View>;\n\nconst Window = ({ data: { user, dice } }) => {\n  const total = dice.reduce((acc, { value }) => acc + value, 0);\n\n  return (\n    <View style={styles.window}>\n      <Text style={styles.userName}>{user.name}</Text>\n      <ScrollView style={styles.scrollContainer} contentContainerStyle={styles.scrollViewContainer}>\n        {dice.map(({ key, type, value }) => (\n          <Die key={key} type={type} value={value} />\n        ))}\n      </ScrollView>\n      <View style={styles.total}>\n        <Headline>Total: {total}</Headline>\n      </View>\n    </View>\n  );\n};\n\nconst BoardScreen = () => {\n  const { sessionDice, currentSession } = useData();\n\n  if (!currentSession) {\n    return (\n      <ScreenContainer centered>\n        <Text>Please select a session first.</Text>\n      </ScreenContainer>\n    );\n  }\n\n  const groups = sessionDice.reduce((acc, item, index) => {\n    if (index % 3 === 0) {\n      return [...acc, [item]];\n    }\n    acc[acc.length - 1].push(item);\n    return acc;\n  }, []);\n\n  return (\n    <ScreenContainer>\n      {groups.map((group, index) => (\n        <Row key={`${index}`}>\n          {group.map(data => (\n            <Window key={data.user.key} data={data} />\n          ))}\n        </Row>\n      ))}\n    </ScreenContainer>\n  );\n};\n\nBoardScreen.navigationOptions = {\n  header: null,\n};\nBoardScreen.title = 'Board';\nBoardScreen.iconName = 'desktop';\n\nconst styles = StyleSheet.create({\n  row: {\n    flex: 1,\n    flexDirection: 'row',\n    height: '100%',\n  },\n  window: {\n    flex: 1,\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 1,\n    borderColor: '#dddddd',\n  },\n  scrollContainer: {\n    width: '100%',\n    marginTop: 30,\n  },\n  scrollViewContainer: {\n    width: '100%',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n  },\n  total: {\n    width: '100%',\n    backgroundColor: '#ffffff',\n    paddingVertical: 10,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderTopColor: '#dddddd',\n    borderTopWidth: 1,\n  },\n  userName: {\n    position: 'absolute',\n    top: 5,\n    left: 5,\n  },\n});\n\nexport default BoardScreen;\n","import React, { Fragment } from 'react';\nimport { Platform, ScrollView, StyleSheet, View } from 'react-native';\nimport { Headline, Text } from 'react-native-paper';\nimport { Ionicons } from '@expo/vector-icons';\nimport { buttonStyle } from '../constants/Button';\nimport { OutlinedButton, DieButton, Die, ScreenContainer } from '../components';\nimport { useData } from '../context/DataContext';\n\nconst DiceRollScreen = () => {\n  const { dice, addDie, removeDie, clearDie, currentSession } = useData();\n\n  if (!currentSession) {\n    return (\n      <View style={styles.emptyMessage}>\n        <Text>Please select a session first.</Text>\n      </View>\n    );\n  }\n\n  const total = dice.reduce((acc, die) => acc + die.value, 0);\n\n  return (\n    <ScreenContainer>\n      {dice.length === 0 && (\n        <View style={styles.emptyMessage}>\n          <Text>Tap buttons below to roll some dice</Text>\n        </View>\n      )}\n\n      {dice.length > 0 && (\n        <Fragment>\n          <ScrollView style={styles.scrollContainer} contentContainerStyle={styles.rolledDice}>\n            {dice.map(die => (\n              <Die key={die.key} type={die.type} value={die.value} onPress={() => removeDie(die)} />\n            ))}\n          </ScrollView>\n          <View style={styles.total}>\n            <Headline>Total: {total}</Headline>\n          </View>\n        </Fragment>\n      )}\n\n      <View style={styles.dice}>\n        <DieButton faces={4} onPress={addDie} />\n        <DieButton faces={6} onPress={addDie} />\n        <DieButton faces={8} onPress={addDie} />\n        <DieButton faces={10} onPress={addDie} />\n        <DieButton faces={12} onPress={addDie} />\n        <DieButton faces={20} onPress={addDie} />\n        <OutlinedButton style={buttonStyle.button} compact onPress={clearDie}>\n          <Ionicons name=\"ios-refresh\" />\n        </OutlinedButton>\n      </View>\n    </ScreenContainer>\n  );\n};\n\nDiceRollScreen.navigationOptions = {\n  header: null,\n};\n\nDiceRollScreen.title = 'Roll';\nDiceRollScreen.iconName = 'cube';\n\nconst shadow = {\n  ...Platform.select({\n    ios: {\n      shadowColor: 'black',\n      shadowOffset: { width: 0, height: -3 },\n      shadowOpacity: 0.1,\n      shadowRadius: 3,\n    },\n    android: {\n      elevation: 20,\n    },\n    web: {\n      boxShadow: '0 -3px 3px rgba(0, 0, 0, 0.1)',\n    },\n  }),\n};\n\nconst styles = StyleSheet.create({\n  emptyMessage: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  scrollContainer: {\n    width: '100%',\n    ...Platform.select({\n      ios: {\n        marginTop: 30,\n      },\n    }),\n  },\n  rolledDice: {\n    width: '100%',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexWrap: 'wrap',\n  },\n  total: {\n    backgroundColor: '#ffffff',\n    paddingVertical: 20,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderTopColor: '#dddddd',\n    borderTopWidth: 1,\n  },\n  dice: {\n    ...shadow,\n    backgroundColor: '#fbfbfb',\n    paddingVertical: 20,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n\nexport default DiceRollScreen;\n","import React, { Fragment, useState } from 'react';\nimport { StyleSheet, FlatList, Clipboard } from 'react-native';\nimport {\n  List,\n  Text,\n  FAB,\n  Dialog,\n  Portal,\n  Button,\n  IconButton,\n  TextInput,\n  Menu,\n} from 'react-native-paper';\nimport { useData } from '../../context/DataContext';\nimport { ScreenContainer } from '../../components';\n\nconst dismissModal = (setOpen, setName) => () => {\n  setOpen(false);\n  setName('');\n};\n\nconst AddSessionDialog = ({ isOpen, setOpen, addSession }) => {\n  const [name, setName] = useState('');\n  const dismiss = dismissModal(setOpen, setName);\n\n  return (\n    <Portal>\n      <Dialog visible={isOpen} onDismiss={dismiss}>\n        <Dialog.Title>New Session</Dialog.Title>\n        <Dialog.Content>\n          <TextInput label=\"Name\" value={name} onChangeText={text => setName(text)} />\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button onPress={dismiss}>Cancel</Button>\n          <Button\n            onPress={() => {\n              addSession({ name });\n              dismiss();\n            }}>\n            OK\n          </Button>\n        </Dialog.Actions>\n      </Dialog>\n    </Portal>\n  );\n};\n\nconst SessionMenu = ({ removeSession, session, ...props }) => {\n  const [isVisible, setVisible] = useState(false);\n  const dismiss = () => setVisible(false);\n  return (\n    <Menu\n      visible={isVisible}\n      onDismiss={dismiss}\n      anchor={<IconButton {...props} icon=\"more-vert\" onPress={() => setVisible(true)} />}>\n      <Menu.Item\n        onPress={() => {\n          Clipboard.setString(`https://willcrisis.github.io/diceroller/#/join/${session.key}`);\n          dismiss();\n        }}\n        title=\"Copy link\"\n        icon=\"content-copy\"\n      />\n      <Menu.Item\n        onPress={() => setTimeout(() => removeSession(session), 200)}\n        title=\"Delete\"\n        icon=\"delete\"\n      />\n    </Menu>\n  );\n};\n\nconst selectSession = async (session, setCurrentSession, navigation) => {\n  await setCurrentSession(session);\n  navigation.navigate('roll');\n};\n\nconst SessionsScreen = ({ navigation }) => {\n  const { sessions, addSession, removeSession, setCurrentSession } = useData();\n  const [isModalOpen, setModalOpen] = useState(false);\n\n  return (\n    <Fragment>\n      {sessions.length > 0 && (\n        <FlatList\n          data={sessions}\n          renderItem={({ item }) => (\n            <List.Item\n              style={styles.listItem}\n              title={item.name}\n              onPress={() => selectSession(item, setCurrentSession, navigation)}\n              right={props => (\n                <SessionMenu {...props} session={item} removeSession={removeSession} />\n              )}\n            />\n          )}\n        />\n      )}\n      {sessions.length === 0 && (\n        <ScreenContainer centered>\n          <Text>You don't have any session yet.</Text>\n        </ScreenContainer>\n      )}\n      <AddSessionDialog\n        isOpen={isModalOpen}\n        setOpen={setModalOpen}\n        addSession={session => addSession(session)}\n      />\n      <FAB style={styles.fab} icon=\"add\" onPress={() => setModalOpen(true)} />\n    </Fragment>\n  );\n};\n\nSessionsScreen.title = 'Sessions';\nSessionsScreen.iconName = 'albums';\n\nconst styles = StyleSheet.create({\n  fab: {\n    position: 'absolute',\n    margin: 16,\n    right: 0,\n    bottom: 0,\n  },\n  listItem: {\n    borderBottomColor: '#dddddd',\n    borderBottomWidth: 1,\n  },\n});\n\nexport default SessionsScreen;\n","import React from 'react';\nimport { View } from 'react-native';\nimport { ExpoConfigView } from '@expo/samples';\nimport { OutlinedButton, ScreenContainer } from '../components';\nimport { useAuth } from '../context/AuthContext';\n\nconst SettingsScreen = () => {\n  const { logOut } = useAuth();\n  return (\n    <ScreenContainer>\n      <View>\n        <OutlinedButton onPress={logOut}>Logout</OutlinedButton>\n      </View>\n      <ExpoConfigView />\n    </ScreenContainer>\n  );\n};\n\nSettingsScreen.title = 'Settings';\nSettingsScreen.iconName = 'options';\n\nSettingsScreen.navigationOptions = {\n  title: 'app.json',\n};\n\nexport default SettingsScreen;\n","import { Platform } from 'react-native';\nimport BoardScreen from './BoardScreen';\nimport DiceRollScreen from './DiceRollScreen';\nimport SessionsScreen from './Session/SessionsScreen';\nimport SettingsScreen from './SettingsScreen';\n\nexport default {\n  ...Platform.select({\n    web: {\n      board: BoardScreen,\n    },\n  }),\n  roll: DiceRollScreen,\n  sessions: SessionsScreen,\n  settings: SettingsScreen,\n};\n\nexport const config = {\n  initialRouteName: 'sessions',\n};\n","import React from 'react';\nimport { Platform } from 'react-native';\nimport { createStackNavigator } from 'react-navigation';\nimport { Appbar } from 'react-native-paper';\nimport { createMaterialBottomTabNavigator } from 'react-navigation-material-bottom-tabs';\n\nimport TabBarIcon from '../components/TabBarIcon';\nimport screens, { config as tabsConfig } from '../screens/tabs';\n\nconst config = Platform.select({\n  web: { headerMode: 'screen' },\n  default: {},\n});\n\nconst reduceFn = (acc, { id, Component }) => {\n  let routes;\n  if (typeof Component === 'object' && !Component.screen) {\n    routes = Object.keys(Component.screens)\n      .map(id => ({ id, Component: Component.screens[id] }))\n      .reduce(reduceFn, {});\n  } else {\n    const Comp = Component.screen || Component;\n    const Screen = props => <Comp {...props} />;\n    Screen.navigationOptions = props => {\n      return {\n        header: (\n          <Appbar.Header>\n            <Appbar.Content title={Comp.title} />\n          </Appbar.Header>\n        ),\n        ...(typeof Comp.navigationOptions === 'function'\n          ? Comp.navigationOptions(props)\n          : Comp.navigationOptions),\n      };\n    };\n\n    routes = {\n      [id]: Screen,\n    };\n  }\n\n  const Stack = createStackNavigator(routes, Object.assign({}, config, Component.config));\n\n  Stack.navigationOptions = {\n    tabBarLabel: Component.title,\n    tabBarIcon: ({ focused }) => (\n      <TabBarIcon\n        focused={focused}\n        name={Platform.OS === 'ios' ? `ios-${Component.iconName}` : `md-${Component.iconName}`}\n      />\n    ),\n  };\n\n  Stack.path = Component.path || '';\n\n  return {\n    ...acc,\n    [id]: Stack,\n  };\n};\n\nconst routes = Object.keys(screens)\n  .map(id => ({ id, Component: screens[id] }))\n  .reduce(reduceFn, {});\n\nconst TabNavigator = createMaterialBottomTabNavigator(routes, tabsConfig);\n\nexport default TabNavigator;\n","import React, { useEffect, useState, Fragment } from 'react';\nimport { Headline, ActivityIndicator, Text } from 'react-native-paper';\nimport { useData } from '../../context/DataContext';\nimport { ContainedButton, Spacer, ScreenContainer } from '../../components';\n\nconst join = (sessionId, joinSession, navigation) => {\n  joinSession(sessionId);\n  goToSessions(navigation);\n};\n\nconst goToSessions = navigation => navigation.navigate('sessions');\n\nconst JoinSessionScreen = ({ navigation }) => {\n  const { getSession, joinSession, sessions } = useData();\n  const [session, setSession] = useState(null);\n  const [loadingSession, setLoadingSession] = useState(true);\n  const sessionId = navigation.getParam('session');\n\n  useEffect(() => {\n    const loadSession = async () => {\n      const sessionData = await getSession(sessionId);\n      setSession(sessionData);\n      setLoadingSession(false);\n    };\n    loadSession();\n  }, []);\n\n  const exists = sessions.find(({ key }) => session && session.key === key);\n\n  return (\n    <ScreenContainer centered>\n      {loadingSession && <ActivityIndicator />}\n      {!loadingSession && (\n        <Fragment>\n          {exists ? (\n            <Text>You already joined this session</Text>\n          ) : (\n            <Text>Would you like to join this session?</Text>\n          )}\n          <Spacer />\n          <Headline>{session.name}</Headline>\n          <Spacer />\n          {exists ? (\n            <ContainedButton onPress={() => goToSessions(navigation)}>\n              Go to Sessions Page\n            </ContainedButton>\n          ) : (\n            <ContainedButton onPress={() => join(sessionId, joinSession, navigation)}>\n              Join Session\n            </ContainedButton>\n          )}\n        </Fragment>\n      )}\n    </ScreenContainer>\n  );\n};\n\nJoinSessionScreen.navigationOptions = {\n  header: null,\n};\n\nexport default JoinSessionScreen;\n","import React from 'react';\nimport { AppLoading } from 'expo';\nimport { Asset } from 'expo-asset';\nimport * as Font from 'expo-font';\nimport { Ionicons } from '@expo/vector-icons';\n\nimport { useApp } from '../context/AppContext';\n\nconst LoadingScreen = ({ navigation }) => {\n  const { setAppLoading } = useApp();\n  return (\n    <AppLoading\n      startAsync={loadResourcesAsync}\n      onError={handleLoadingError}\n      onFinish={() => handleFinishLoading(setAppLoading)}\n    />\n  );\n};\n\nasync function loadResourcesAsync() {\n  await Promise.all([\n    Asset.loadAsync([\n      require('../assets/images/robot-dev.png'),\n      require('../assets/images/robot-prod.png'),\n    ]),\n    Font.loadAsync({\n      // This is the font that we are using for our tab bar\n      ...Ionicons.font,\n    }),\n  ]);\n}\n\nfunction handleLoadingError(error) {\n  // In this case, you might want to report the error to your error reporting\n  // service, for example Sentry\n  console.warn(error);\n}\n\nfunction handleFinishLoading(setAppLoading) {\n  setAppLoading(false);\n}\n\nexport default LoadingScreen;\n","import React, { useState } from 'react';\nimport { TextInput, Headline, Title } from 'react-native-paper';\nimport { useAuth } from '../../context/AuthContext';\nimport { OutlinedButton, Spacer, ScreenContainer } from '../../components';\n\nconst AuthScreen = ({ navigation }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { loginWithEmailAndPassword } = useAuth();\n\n  return (\n    <ScreenContainer centered>\n      <Headline>Dice Roller</Headline>\n      <Spacer />\n      <Title>Login</Title>\n      <Spacer />\n      <TextInput\n        mode=\"outlined\"\n        label=\"E-mail\"\n        value={email}\n        error={!email}\n        onChangeText={text => setEmail(text)}\n      />\n      <Spacer />\n      <TextInput\n        mode=\"outlined\"\n        label=\"Password\"\n        value={password}\n        error={!password}\n        onChangeText={text => setPassword(text)}\n        secureTextEntry\n      />\n      <Spacer />\n      <OutlinedButton onPress={() => loginWithEmailAndPassword(email, password)}>\n        Login\n      </OutlinedButton>\n      <Spacer />\n      <OutlinedButton onPress={() => navigation.navigate('Register')}>Register</OutlinedButton>\n    </ScreenContainer>\n  );\n};\n\nexport default AuthScreen;\n","import React, { useState } from 'react';\nimport { TextInput, Headline, Title } from 'react-native-paper';\nimport { ScreenContainer, Spacer, OutlinedButton } from '../../components';\nimport { useAuth } from '../../context/AuthContext';\n\nconst validatePassword = (password, confirmPassword) => password === confirmPassword;\n\nconst RegisterScreen = ({ navigation }) => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n\n  const { registerWithEmailAndPassword } = useAuth();\n\n  return (\n    <ScreenContainer centered>\n      <Headline>Dice Roller</Headline>\n      <Spacer />\n      <Title>Register</Title>\n      <Spacer />\n      <TextInput\n        mode=\"outlined\"\n        label=\"Name\"\n        value={name}\n        error={!name}\n        onChangeText={text => setName(text)}\n      />\n      <Spacer />\n      <TextInput\n        mode=\"outlined\"\n        label=\"E-mail\"\n        value={email}\n        error={!email}\n        onChangeText={text => setEmail(text)}\n      />\n      <Spacer />\n      <TextInput\n        mode=\"outlined\"\n        label=\"Password\"\n        value={password}\n        error={!password}\n        onChangeText={text => setPassword(text)}\n        secureTextEntry\n      />\n      <Spacer />\n      <TextInput\n        mode=\"outlined\"\n        label=\"Confirm Password\"\n        value={confirmPassword}\n        error={!confirmPassword}\n        onChangeText={text => setConfirmPassword(text)}\n        secureTextEntry\n      />\n      <Spacer />\n      <OutlinedButton\n        onPress={() =>\n          validatePassword(password, confirmPassword) &&\n          registerWithEmailAndPassword(name, email, password)\n        }>\n        Register\n      </OutlinedButton>\n      <Spacer />\n      <OutlinedButton onPress={() => navigation.goBack()}>Go back</OutlinedButton>\n    </ScreenContainer>\n  );\n};\n\nexport default RegisterScreen;\n","import React, { useEffect } from 'react';\nimport { createSwitchNavigator, createStackNavigator } from 'react-navigation';\nimport MainTabNavigator from './MainTabNavigator';\nimport JoinScreen from '../screens/Session/JoinSessionScreen';\nimport LoadingScreen from '../screens/LoadingScreen';\nimport AuthScreen from '../screens/Auth/AuthScreen';\nimport RegisterScreen from '../screens/Auth/RegisterScreen';\nimport { useAuth } from '../context/AuthContext';\nimport { useData } from '../context/DataContext';\nimport { useApp } from '../context/AppContext';\n\nconst AppNavigator = createSwitchNavigator({\n  Main: {\n    screen: MainTabNavigator,\n    path: '',\n  },\n  Join: {\n    screen: JoinScreen,\n    path: 'join/:session',\n  },\n});\nAppNavigator.path = '';\n\nconst AuthNavigator = createStackNavigator({\n  Auth: {\n    screen: AuthScreen,\n    navigationOptions: {\n      header: null,\n    },\n    path: '',\n  },\n  Register: {\n    screen: RegisterScreen,\n    navigationOptions: {\n      header: null,\n    },\n    path: 'register',\n  },\n});\nAuthNavigator.path = '';\n\nconst SwitchNavigator = createSwitchNavigator(\n  {\n    Auth: AuthNavigator,\n    App: AppNavigator,\n  },\n  {\n    initialRouteName: 'App',\n  }\n);\nSwitchNavigator.path = '';\n\nconst TestNavigator = props => {\n  const { isAuthLoading, currentUser } = useAuth();\n  const { isDataLoading } = useData();\n  const { isAppLoading } = useApp();\n\n  const isLoading = isAuthLoading || isDataLoading || isAppLoading;\n\n  useEffect(() => {\n    if (!isLoading) {\n      props.navigation.navigate(currentUser ? 'App' : 'Auth');\n    }\n  }, [isAppLoading, isAuthLoading, isDataLoading, currentUser]);\n\n  if (isLoading) {\n    return <LoadingScreen {...props} />;\n  }\n\n  return <SwitchNavigator {...props} />;\n};\n\nTestNavigator.router = SwitchNavigator.router;\n\nexport default TestNavigator;\n","import { createBrowserApp } from '@react-navigation/web';\nimport MainNavigation from './MainNavigation';\n\nMainNavigation.path = '';\n\nconst BrowserApp = createBrowserApp(MainNavigation, { history: 'hash' });\n\nexport default BrowserApp;\n","import React from 'react';\nimport { Linking } from 'expo';\nimport { Platform, StatusBar } from 'react-native';\nimport { Provider as PaperProvider } from 'react-native-paper';\nimport { useScreens } from 'react-native-screens';\nimport { ScreenContainer } from './components';\nimport configure from './config';\nimport AuthProvider from './context/AuthContext';\nimport DataProvider from './context/DataContext';\nimport AppProvider from './context/AppContext';\nimport AppNavigator from './navigation/AppNavigator';\n\nconfigure();\nuseScreens();\n\nconst appPrefix = Linking.makeUrl('/');\n\nconst App = () => (\n  <AuthProvider>\n    <DataProvider>\n      <AppProvider>\n        <PaperProvider>\n          <ScreenContainer>\n            {Platform.OS === 'ios' && <StatusBar barStyle=\"default\" />}\n            <AppNavigator uriPrefix={appPrefix} />\n          </ScreenContainer>\n        </PaperProvider>\n      </AppProvider>\n    </DataProvider>\n  </AuthProvider>\n);\n\nexport default App;\n","module.exports = __webpack_public_path__ + \"static/media/robot-dev.54da1e98.png\";","module.exports = __webpack_public_path__ + \"static/media/robot-prod.c7578911.png\";"],"sourceRoot":""}