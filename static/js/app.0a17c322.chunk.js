(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{318:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(536),c=n(11),s=n(98),i=n(273),u=n(38),l=n(10),f=n.n(l),p=n(277),d=function(e){var t=f()({},e);return a.a.createElement(p.a,t)},m=function(e){var t=f()({},e);return a.a.createElement(d,f()({},t,{mode:"contained"}))},b=n(28),g=n.n(b),v=n(2),y=n(3),h=n(70),E=n(6),w=n(142),O=n(45),j=n(264),x=n(35),P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};w.a.configureNext(w.a.create(200,w.a.Types.linear,w.a.Properties.scaleXY)),E.a.timing(e,{toValue:t,duration:200,useNativeDriver:!0}).start(n)},S=y.a.create({container:{display:"flex",alignItems:"center",justifyContent:"center",margin:10,borderColor:"#ddd",borderWidth:1,width:100,height:100},content:{alignItems:"center"}}),k=function(e){var t=e.type,n=e.value,o=e.onPress,c=Object(r.useState)(new E.a.Value(0)),s=g()(c,1)[0];Object(r.useEffect)((function(){return P(s,1),function(){P(s,0)}}),[]);var i=O.a.supported?O.a:h.a;return a.a.createElement(E.a.View,{style:[{transform:[{scale:s}]}]},a.a.createElement(i,{style:S.container,onPress:function(){P(s,0,o)}},a.a.createElement(v.a,{style:S.content},a.a.createElement(j.a,null,n),a.a.createElement(x.a,null,t))))},C=y.a.create({button:{flex:1,marginHorizontal:5}}),D=function(e){var t=e.faces,n=e.onPress,r="d"+t;return a.a.createElement(m,{style:C.button,dark:!0,compact:!0,onPress:function(){return n({type:r,value:(e=t,Math.floor(Math.random()*e)+1)});var e},uppercase:!1},r)},I=n(13),A=n.n(I),T=n(153),N=function(e){var t=f()({},e);return a.a.createElement(d,f()({},t,{mode:"outlined"}))},B=y.a.create({container:{flex:1,backgroundColor:"#fff",width:"100%"},centeredHorizontal:{alignItems:"center"},centeredVertical:{justifyContent:"center"}}),W=function(e){var t=e.children,n=e.centeredHorizontal,r=e.centeredVertical,o=e.centered,c=[B.container];return o?c.push(B.centeredHorizontal,B.centeredVertical):(n&&c.push(B.centeredHorizontal),r&&c.push(B.centeredVertical)),a.a.createElement(v.a,{style:c},t)},L=y.a.create({spacer:{height:30}}),U=function(){return a.a.createElement(v.a,{style:L.spacer})};n(29);var V=n(534),R={tintColor:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc",tabBar:"#fefefe",errorBackground:"red",errorText:"#fff",warningBackground:"#EAEB5E",warningText:"#666804",noticeBackground:"#2f95dc",noticeText:"#fff"};function z(e){return a.a.createElement(V.a,{name:e.name,size:26,style:{marginBottom:-3},color:e.focused?R.tabIconSelected:R.tabIconDefault})}var H=n(60),M=n.n(H),J={apiKey:"AIzaSyBHCc4hJNPQUGBu3mup6WJCVCylUwmUyys",authDomain:"dice-roller-d68fa.firebaseapp.com",databaseURL:"https://dice-roller-d68fa.firebaseio.com",projectId:"dice-roller-d68fa",storageBucket:"",messagingSenderId:"277235469300",appId:"1:277235469300:web:b3717529c807f6b9"},F=function(){M.a.initializeApp(J)},G=n(21),Y=n.n(G),K=n(12),Q=n.n(K),X=n(17),q=n.n(X),Z=(n(266),n(265),n(83));function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){return _({},e.data(),{key:e.id})},te=function(e,t){return e>t?1:e<t?-1:0},ne=function(e,t,n,r,a,o){var c,s,i,u;return Q.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(c=[],s=t&&t.key){l.next=6;break}return l.next=5,Q.a.awrap(Z.a.getItem("currentSession"));case 5:s=l.sent;case 6:return i=M.a.firestore(),(u=e&&e.uid)&&c.push(i.doc("users/"+u).onSnapshot((function(e){var t,n,a;return Q.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.exists){o.next=2;break}return o.abrupt("return");case 2:if(t=ee(e),!((n=t.sessions)&&n.length>0)){o.next=10;break}return a=[],o.next=8,Q.a.awrap(Promise.all(n.map((function(e){var t;return Q.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Q.a.awrap(i.doc("sessions/"+e).get());case 2:if(!(t=r.sent).exists){r.next=7;break}return r.abrupt("return",ee(t));case 7:i.doc("users/"+u).set({sessions:n.filter((function(t){return t!==e}))},{merge:!0});case 8:return r.abrupt("return",null);case 9:case"end":return r.stop()}}))}))));case 8:a=o.sent,r(a.filter((function(e){return e})).sort((function(e,t){return te(e.name,t.name)})));case 10:case"end":return o.stop()}}))}))),s&&c.push(i.doc("sessions/"+s).onSnapshot((function(e){var r,s;return Q.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e.exists){l.next=5;break}return a(null),n([]),o([]),l.abrupt("return",Z.a.removeItem("currentSession"));case 5:return r=ee(e),t||a(r),c.push(e.ref.collection("users/"+u+"/dice").orderBy("timestamp","asc").onSnapshot((function(e){var t=[];e.forEach((function(e){t=[].concat(Y()(t),[ee(e)])})),n(t)}))),s={},l.next=11,Q.a.awrap(e.ref.collection("users").get());case 11:l.sent.forEach((function(e){var t,n;return Q.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.id===r.owner){a.next=6;break}return a.next=3,Q.a.awrap(i.doc("users/"+e.id).get());case 3:t=a.sent,n=ee(t),c.push(e.ref.collection("dice").onSnapshot((function(t){var r=[];t.forEach((function(e){r=[].concat(Y()(r),[ee(e)])})),s=_({},s,q()({},e.id,{user:n,dice:r})),o(Object.values(s).sort((function(e,t){return te(e.user.name,t.user.name)})))})));case 6:case"end":return a.stop()}}))}));case 13:case"end":return l.stop()}}))}))),l.abrupt("return",c);case 11:case"end":return l.stop()}}))},re=function(e,t){var n,r;return Q.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Q.a.awrap(Z.a.getItem("currentSession"));case 2:if(n=a.sent,t&&n){a.next=5;break}return a.abrupt("return");case 5:return r=M.a.firestore(),a.abrupt("return",r.collection("sessions/"+n+"/users/"+t.uid+"/dice").add(_({},e,{timestamp:new Date})));case 7:case"end":return a.stop()}}))},ae=function(e,t){var n,r,a;return Q.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.key,o.next=3,Q.a.awrap(Z.a.getItem("currentSession"));case 3:if(r=o.sent,t&&r){o.next=6;break}return o.abrupt("return");case 6:return a=M.a.firestore(),o.abrupt("return",a.doc("sessions/"+r+"/users/"+t.uid+"/dice/"+n).delete());case 8:case"end":return o.stop()}}))},oe=function(e){var t,n;return Q.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Q.a.awrap(Z.a.getItem("currentSession"));case 2:if(t=r.sent,e&&t){r.next=5;break}return r.abrupt("return");case 5:return n=M.a.firestore(),r.next=8,Q.a.awrap(n.collection("sessions/"+t+"/users/"+e.uid+"/dice").get());case 8:r.sent.forEach((function(r){var a;return Q.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a=r.id,o.next=3,Q.a.awrap(n.doc("sessions/"+t+"/users/"+e.uid+"/dice/"+a).delete());case 3:case"end":return o.stop()}}))}));case 10:case"end":return r.stop()}}))},ce=function(e,t,n){var r,a;return Q.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(n){o.next=2;break}return o.abrupt("return");case 2:return r=M.a.firestore(),o.next=5,Q.a.awrap(r.collection("sessions").add(_({},e,{owner:n.uid})));case 5:return a=o.sent,o.next=8,Q.a.awrap(r.doc("sessions/"+a.id+"/users/"+n.uid).set({timestamp:new Date}));case 8:return o.abrupt("return",r.doc("users/"+n.uid).set({sessions:[].concat(Y()(t.map((function(e){return e.key}))),[a.id])},{merge:!0}));case 9:case"end":return o.stop()}}))},se=function(e,t){return function(e,t){return M.a.auth().onAuthStateChanged((function(n){e(n),t(!1)}))}(e,t)},ie=function(e,t){return function(e,t){return M.a.auth().signInWithEmailAndPassword(e,t)}(e,t)},ue=function(){return Q.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.awrap(Z.a.removeItem("currentSession"));case 2:return e.abrupt("return",M.a.auth().signOut());case 3:case"end":return e.stop()}}))},le=function(e,t,n){return function(e,t,n){var r,a;return Q.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Q.a.awrap(M.a.auth().createUserWithEmailAndPassword(t,n));case 2:return r=o.sent,a=r.user,o.next=6,Q.a.awrap(a.updateProfile({displayName:e}));case 6:return o.next=8,Q.a.awrap(M.a.firestore().doc("users/"+a.uid).set({name:e}));case 8:case"end":return o.stop()}}))}(e,t,n)},fe=Object(r.createContext)({}),pe=function(){return Object(r.useContext)(fe)},de=function(e){var t=e.children,n=Object(r.useState)(null),o=g()(n,2),c=o[0],s=o[1],i=Object(r.useState)(!0),u=g()(i,2),l=u[0],f=u[1];return Object(r.useEffect)((function(){se(s,f)}),[]),a.a.createElement(fe.Provider,{value:{isAuthLoading:l,currentUser:c,loginWithEmailAndPassword:ie,logOut:ue,registerWithEmailAndPassword:le}},t)},me="Die",be="Session",ge=function(e,t){switch(e){case be:return function(e){var t;return Q.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Q.a.awrap(M.a.firestore().doc("sessions/"+e).get());case 2:if(!(t=n.sent).exists){n.next=7;break}return n.abrupt("return",ee(t));case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}))}(t);default:throw new Error("Unknown entity")}},ve=function(e,t,n){return function(e,t,n){var r;return Q.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(n){a.next=2;break}return a.abrupt("return");case 2:return r=M.a.firestore(),a.next=5,Q.a.awrap(r.doc("sessions/"+e+"/users/"+n.uid).set({timestamp:new Date}));case 5:return a.abrupt("return",r.doc("users/"+n.uid).set({sessions:[].concat(Y()(t.map((function(e){return e.key}))),[e])},{merge:!0}));case 6:case"end":return a.stop()}}))}(e,t,n)};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(n,!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=Object(r.createContext)({}),we=function(e,t,n){var r;return r={},q()(r,"add"+t,(function(r){return function(e,t,n,r){return Q.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=e,a.next=a.t0===me?3:a.t0===be?4:5;break;case 3:return a.abrupt("return",re(t,r));case 4:return a.abrupt("return",ce(t,n,r));case 5:throw new Error("Unknown entity");case 6:case"end":return a.stop()}}))}(t,r,e,n)})),q()(r,"remove"+t,(function(e){return function(e,t,n,r){return Q.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next=n.t0===me?3:n.t0===be?4:5;break;case 3:return n.abrupt("return",ae(t,r));case 4:return n.abrupt("break",6);case 5:throw new Error("Unknown entity");case 6:case"end":return n.stop()}}))}(t,e,0,n)})),q()(r,"clear"+t,(function(){return function(e,t){return Q.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=e,n.next=n.t0===me?3:n.t0===be?4:5;break;case 3:return n.abrupt("return",oe(t));case 4:return n.abrupt("break",6);case 5:throw new Error("Unknown entity");case 6:case"end":return n.stop()}}))}(t,n)})),r},Oe=function(e){return function(t){return e(t),Z.a.setItem("currentSession",t.key)}},je=function(e){return ge(be,e)},xe=function(e,t){return function(n){return ve(n,t,e)}},Pe=function(){return Object(r.useContext)(Ee)},Se=function(e){var t=e.children,n=pe().currentUser,o=Object(r.useState)([]),c=g()(o,2),s=c[0],i=c[1],u=Object(r.useState)([]),l=g()(u,2),f=l[0],p=l[1],d=Object(r.useState)(null),m=g()(d,2),b=m[0],v=m[1],y=Object(r.useState)([]),h=g()(y,2),E=h[0],w=h[1],O=Object(r.useState)([]),j=g()(O,2),x=j[0],P=j[1];return Object(r.useEffect)((function(){var e;return function(e,t,n,r,a,o,c){return Q.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",ne(e,t,n,r,a,o));case 1:case"end":return c.stop()}}))}(n,b,i,p,v,w).then((function(t){P(!1),e=t})),function(){e&&e.length&&(console.log("unsubscribing from "+e.length+" subscriptions"),e.forEach((function(e){return e()})))}}),[b,n]),a.a.createElement(Ee.Provider,{value:he({isDataLoading:x,dice:s},we(s,me,n),{sessions:f},we(f,be,n),{getSession:je,currentSession:b,setCurrentSession:Oe(v),sessionDice:E,joinSession:xe(n,f)})},t)},ke=Object(r.createContext)({}),Ce=function(){return Object(r.useContext)(ke)},De=function(e){var t=e.children,n=Object(r.useState)(!0),o=g()(n,2),c=o[0],s=o[1];return a.a.createElement(ke.Provider,{value:{isAppLoading:c,setAppLoading:s}},t)},Ie=n(310),Ae=n(116),Te=n(275),Ne=n(320),Be=n(44),We=function(e){var t=e.children;return a.a.createElement(v.a,{style:Ve.row},t)},Le=function(e){var t=e.data,n=t.user,r=t.dice,o=r.reduce((function(e,t){return e+t.value}),0);return a.a.createElement(v.a,{style:Ve.window},a.a.createElement(x.a,{style:Ve.userName},n.name),a.a.createElement(Be.a,{style:Ve.scrollContainer,contentContainerStyle:Ve.scrollViewContainer},r.map((function(e){var t=e.key,n=e.type,r=e.value;return a.a.createElement(k,{key:t,type:n,value:r})}))),a.a.createElement(v.a,{style:Ve.total},a.a.createElement(j.a,null,"Total: ",o)))},Ue=function(){var e=Pe(),t=e.sessionDice;if(!e.currentSession)return a.a.createElement(W,{centered:!0},a.a.createElement(x.a,null,"Please select a session first."));var n=t.reduce((function(e,t,n){return n%3===0?[].concat(Y()(e),[[t]]):(e[e.length-1].push(t),e)}),[]);return a.a.createElement(W,null,n.map((function(e,t){return a.a.createElement(We,{key:""+t},e.map((function(e){return a.a.createElement(Le,{key:e.user.key,data:e})})))})))};Ue.navigationOptions={header:null},Ue.title="Board",Ue.iconName="desktop";var Ve=y.a.create({row:{flex:1,flexDirection:"row",height:"100%"},window:{flex:1,height:"100%",alignItems:"center",justifyContent:"center",borderWidth:1,borderColor:"#dddddd"},scrollContainer:{width:"100%",marginTop:30},scrollViewContainer:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},total:{width:"100%",backgroundColor:"#ffffff",paddingVertical:10,flexDirection:"row",justifyContent:"center",alignItems:"center",borderTopColor:"#dddddd",borderTopWidth:1},userName:{position:"absolute",top:5,left:5}}),Re=Ue;function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(n,!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=function(){var e=Pe(),t=e.dice,n=e.addDie,o=e.removeDie,c=e.clearDie;if(!e.currentSession)return a.a.createElement(v.a,{style:Fe.emptyMessage},a.a.createElement(x.a,null,"Please select a session first."));var s=t.reduce((function(e,t){return e+t.value}),0);return a.a.createElement(W,null,0===t.length&&a.a.createElement(v.a,{style:Fe.emptyMessage},a.a.createElement(x.a,null,"Tap buttons below to roll some dice")),t.length>0&&a.a.createElement(r.Fragment,null,a.a.createElement(Be.a,{style:Fe.scrollContainer,contentContainerStyle:Fe.rolledDice},t.map((function(e){return a.a.createElement(k,{key:e.key,type:e.type,value:e.value,onPress:function(){return o(e)}})}))),a.a.createElement(v.a,{style:Fe.total},a.a.createElement(j.a,null,"Total: ",s))),a.a.createElement(v.a,{style:Fe.dice},a.a.createElement(D,{faces:4,onPress:n}),a.a.createElement(D,{faces:6,onPress:n}),a.a.createElement(D,{faces:8,onPress:n}),a.a.createElement(D,{faces:10,onPress:n}),a.a.createElement(D,{faces:12,onPress:n}),a.a.createElement(D,{faces:20,onPress:n}),a.a.createElement(N,{style:C.button,compact:!0,onPress:c},a.a.createElement(V.a,{name:"ios-refresh"}))))};Me.navigationOptions={header:null},Me.title="Roll",Me.iconName="cube";var Je=He({},c.a.select({ios:{shadowColor:"black",shadowOffset:{width:0,height:-3},shadowOpacity:.1,shadowRadius:3},android:{elevation:20},web:{boxShadow:"0 -3px 3px rgba(0, 0, 0, 0.1)"}})),Fe=y.a.create({emptyMessage:{flex:1,justifyContent:"center",alignItems:"center"},scrollContainer:He({width:"100%"},c.a.select({ios:{marginTop:30}})),rolledDice:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},total:{backgroundColor:"#ffffff",paddingVertical:20,flexDirection:"row",justifyContent:"center",alignItems:"center",borderTopColor:"#dddddd",borderTopWidth:1},dice:He({},Je,{backgroundColor:"#fbfbfb",paddingVertical:20,flexDirection:"row",justifyContent:"center",alignItems:"center"})}),Ge=Me,Ye=n(113),Ke=n(314),Qe=n(106),Xe=n(274),qe=n(276),Ze=n(269),$e=n(64),_e=n(279),et=function(e){var t=e.isOpen,n=e.setOpen,o=e.addSession,c=Object(r.useState)(""),s=g()(c,2),i=s[0],u=s[1],l=function(e,t){return function(){e(!1),t("")}}(n,u);return a.a.createElement(Qe.a,null,a.a.createElement(Xe.a,{visible:t,onDismiss:l},a.a.createElement(Xe.a.Title,null,"New Session"),a.a.createElement(Xe.a.Content,null,a.a.createElement(qe.a,{label:"Name",value:i,onChangeText:function(e){return u(e)}})),a.a.createElement(Xe.a.Actions,null,a.a.createElement(p.a,{onPress:l},"Cancel"),a.a.createElement(p.a,{onPress:function(){o({name:i}),l()}},"OK"))))},tt=function(e){var t=e.removeSession,n=e.session,o=A()(e,["removeSession","session"]),c=Object(r.useState)(!1),s=g()(c,2),i=s[0],u=s[1],l=function(){return u(!1)};return a.a.createElement(Ze.a,{visible:i,onDismiss:l,anchor:a.a.createElement(T.a,f()({},o,{icon:"more-vert",onPress:function(){return u(!0)}}))},a.a.createElement(Ze.a.Item,{onPress:function(){Ke.a.setString("https://willcrisis.github.io/diceroller/#/join/"+n.key),l()},title:"Copy link",icon:"content-copy"}),a.a.createElement(Ze.a.Item,{onPress:function(){return setTimeout((function(){return t(n)}),200)},title:"Delete",icon:"delete"}))},nt=function(e){var t=e.navigation,n=Pe(),o=n.sessions,c=n.addSession,s=n.removeSession,i=n.setCurrentSession,u=Object(r.useState)(!1),l=g()(u,2),p=l[0],d=l[1];return a.a.createElement(r.Fragment,null,o.length>0&&a.a.createElement(Ye.a,{data:o,renderItem:function(e){var n=e.item;return a.a.createElement($e.a.Item,{style:rt.listItem,title:n.name,onPress:function(){return function(e,t,n){return Q.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Q.a.awrap(t(e));case 2:n.navigate("roll");case 3:case"end":return r.stop()}}))}(n,i,t)},right:function(e){return a.a.createElement(tt,f()({},e,{session:n,removeSession:s}))}})}}),0===o.length&&a.a.createElement(W,{centered:!0},a.a.createElement(x.a,null,"You don't have any session yet.")),a.a.createElement(et,{isOpen:p,setOpen:d,addSession:function(e){return c(e)}}),a.a.createElement(_e.a,{style:rt.fab,icon:"add",onPress:function(){return d(!0)}}))};nt.title="Sessions",nt.iconName="albums";var rt=y.a.create({fab:{position:"absolute",margin:16,right:0,bottom:0},listItem:{borderBottomColor:"#dddddd",borderBottomWidth:1}}),at=nt,ot=n(319),ct=function(){var e=pe().logOut;return a.a.createElement(W,null,a.a.createElement(v.a,null,a.a.createElement(N,{onPress:e},"Logout")),a.a.createElement(ot.a,null))};ct.title="Settings",ct.iconName="options",ct.navigationOptions={title:"app.json"};var st=ct;function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ut=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(n,!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c.a.select({web:{board:Re}}),{roll:Ge,sessions:at,settings:st});function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=c.a.select({web:{headerMode:"screen"},default:{}}),dt=Object.keys(ut).map((function(e){return{id:e,Component:ut[e]}})).reduce((function e(t,n){var r,o=n.id,s=n.Component;if("object"!==typeof s||s.screen){var i=s.screen||s,u=function(e){return a.a.createElement(i,e)};u.navigationOptions=function(e){return ft({header:a.a.createElement(Te.b.Header,null,a.a.createElement(Te.b.Content,{title:i.title}))},"function"===typeof i.navigationOptions?i.navigationOptions(e):i.navigationOptions)},r=q()({},o,u)}else r=Object.keys(s.screens).map((function(e){return{id:e,Component:s.screens[e]}})).reduce(e,{});var l=Object(Ae.createStackNavigator)(r,f()({},pt,s.config));return l.navigationOptions={tabBarLabel:s.title,tabBarIcon:function(e){var t=e.focused;return a.a.createElement(z,{focused:t,name:"ios"===c.a.OS?"ios-"+s.iconName:"md-"+s.iconName})}},l.path=s.path||"",ft({},t,q()({},o,l))}),{}),mt=Object(Ne.a)(dt,{initialRouteName:"sessions"}),bt=n(156),gt=function(e){return e.navigate("sessions")},vt=function(e){var t=e.navigation,n=Pe(),o=n.getSession,c=n.joinSession,s=n.sessions,i=Object(r.useState)(null),u=g()(i,2),l=u[0],f=u[1],p=Object(r.useState)(!0),d=g()(p,2),b=d[0],v=d[1],y=t.getParam("session");Object(r.useEffect)((function(){!function(){var e;Q.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.a.awrap(o(y));case 2:e=t.sent,f(e),v(!1);case 5:case"end":return t.stop()}}))}()}),[]);var h=s.find((function(e){var t=e.key;return l&&l.key===t}));return a.a.createElement(W,{centered:!0},b&&a.a.createElement(bt.a,null),!b&&a.a.createElement(r.Fragment,null,h?a.a.createElement(x.a,null,"You already joined this session"):a.a.createElement(x.a,null,"Would you like to join this session?"),a.a.createElement(U,null),a.a.createElement(j.a,null,l.name),a.a.createElement(U,null),h?a.a.createElement(m,{onPress:function(){return gt(t)}},"Go to Sessions Page"):a.a.createElement(m,{onPress:function(){return function(e,t,n){t(e),gt(n)}(y,c,t)}},"Join Session")))};vt.navigationOptions={header:null};var yt=vt,ht=n(535),Et=n(238),wt=n(115);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(n,!0).forEach((function(t){q()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(){return Q.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.awrap(Promise.all([Et.a.loadAsync([n(514),n(515)]),wt.b(jt({},V.a.font))]));case 2:case"end":return e.stop()}}))}function Pt(e){console.warn(e)}var St=function(e){e.navigation;var t=Ce().setAppLoading;return a.a.createElement(ht.a,{startAsync:xt,onError:Pt,onFinish:function(){return function(e){e(!1)}(t)}})},kt=n(105),Ct=function(e){var t=e.navigation,n=Object(r.useState)(""),o=g()(n,2),c=o[0],s=o[1],i=Object(r.useState)(""),u=g()(i,2),l=u[0],f=u[1],p=pe().loginWithEmailAndPassword;return a.a.createElement(W,{centered:!0},a.a.createElement(j.a,null,"Dice Roller"),a.a.createElement(U,null),a.a.createElement(kt.a,null,"Login"),a.a.createElement(U,null),a.a.createElement(qe.a,{mode:"outlined",label:"E-mail",value:c,error:!c,onChangeText:function(e){return s(e)}}),a.a.createElement(U,null),a.a.createElement(qe.a,{mode:"outlined",label:"Password",value:l,error:!l,onChangeText:function(e){return f(e)},secureTextEntry:!0}),a.a.createElement(U,null),a.a.createElement(N,{onPress:function(){return p(c,l)}},"Login"),a.a.createElement(U,null),a.a.createElement(N,{onPress:function(){return t.navigate("Register")}},"Register"))},Dt=function(e){var t=e.navigation,n=Object(r.useState)(""),o=g()(n,2),c=o[0],s=o[1],i=Object(r.useState)(""),u=g()(i,2),l=u[0],f=u[1],p=Object(r.useState)(""),d=g()(p,2),m=d[0],b=d[1],v=Object(r.useState)(""),y=g()(v,2),h=y[0],E=y[1],w=pe().registerWithEmailAndPassword;return a.a.createElement(W,{centered:!0},a.a.createElement(j.a,null,"Dice Roller"),a.a.createElement(U,null),a.a.createElement(kt.a,null,"Register"),a.a.createElement(U,null),a.a.createElement(qe.a,{mode:"outlined",label:"Name",value:c,error:!c,onChangeText:function(e){return s(e)}}),a.a.createElement(U,null),a.a.createElement(qe.a,{mode:"outlined",label:"E-mail",value:l,error:!l,onChangeText:function(e){return f(e)}}),a.a.createElement(U,null),a.a.createElement(qe.a,{mode:"outlined",label:"Password",value:m,error:!m,onChangeText:function(e){return b(e)},secureTextEntry:!0}),a.a.createElement(U,null),a.a.createElement(qe.a,{mode:"outlined",label:"Confirm Password",value:h,error:!h,onChangeText:function(e){return E(e)},secureTextEntry:!0}),a.a.createElement(U,null),a.a.createElement(N,{onPress:function(){return function(e,t){return e===t}(m,h)&&w(c,l,m)}},"Register"),a.a.createElement(U,null),a.a.createElement(N,{onPress:function(){return t.goBack()}},"Go back"))},It=Object(Ae.createSwitchNavigator)({Main:{screen:mt,path:""},Join:{screen:yt,path:"join/:session"}});It.path="";var At=Object(Ae.createStackNavigator)({Auth:{screen:Ct,navigationOptions:{header:null},path:""},Register:{screen:Dt,navigationOptions:{header:null},path:"register"}});At.path="";var Tt=Object(Ae.createSwitchNavigator)({Auth:At,App:It},{initialRouteName:"App"});Tt.path="";var Nt=function(e){var t=pe(),n=t.isAuthLoading,o=t.currentUser,c=Pe().isDataLoading,s=Ce().isAppLoading,i=n||c||s;return Object(r.useEffect)((function(){i||e.navigation.navigate(o?"App":"Auth")}),[s,n,c,o]),i?a.a.createElement(St,e):a.a.createElement(Tt,e)};Nt.router=Tt.router;var Bt=Nt;Bt.path="";var Wt=Object(Ie.createBrowserApp)(Bt,{history:"hash"});F(),Object(u.d)();var Lt=o.a.makeUrl("/");t.a=function(){return a.a.createElement(de,null,a.a.createElement(Se,null,a.a.createElement(De,null,a.a.createElement(i.a,null,a.a.createElement(W,null,"ios"===c.a.OS&&a.a.createElement(s.a,{barStyle:"default"}),a.a.createElement(Wt,{uriPrefix:Lt}))))))}},344:function(e,t,n){e.exports=n(520)},514:function(e,t,n){e.exports=n.p+"static/media/robot-dev.54da1e98.png"},515:function(e,t,n){e.exports=n.p+"static/media/robot-prod.c7578911.png"}},[[344,1,2]]]);
//# sourceMappingURL=../../cf2a4f6642aacd405306.map